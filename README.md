# Auc-ScanData.lua

This project converts is about reverse engineering the scan data generated by
the [Auctioneer
add-on](https://www.curseforge.com/wow/addons/auctioneer/files/427823) for
World of Warcraft classic.

## Setup

If you don't have lua, first install it. 

```bash
brew install lua
```

Then install luarocks to manage your dependencies. 

```bash
brew install luarocks
```

Use luarocks to install dkjson.

```bash
luarocks install dkjson
```

## Getting the data

Find `Auc-Scandata.lua` in your `World of warcraft/_classic_/WTF/Account/<ACCOUNTNAME>/SavedVariables` folder and put it in the root directory of this folder, i.e. `./Auc-ScanData.lua`. 

## Running 

The main conversion pipeline can be ran with a simple 

```python
python main.py
```

With the following expected output

```bash
$ python main.py                                                        
--------------------
convert_lua_to_json
--------------------
In: ./Auc-ScanData.lua
Out: ./Auc-ScanData.json
Converting ./Auc-ScanData.lua to ./Auc-ScanData.json...
--------------------
convert_json_to_csv
--------------------
Reading in ./Auc-ScanData.json
Writing to ./Auc-ScanData.csv
```

If you get a `Pemission denied error`, give the appropriate rights to `convert.sh`

```bash
sudo chmod 755 bin/convert.sh
```